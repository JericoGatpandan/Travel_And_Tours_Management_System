<?xml version="1.0" encoding="UTF-8"?>

<?import de.jensd.fx.glyphs.fontawesome.FontAwesomeIconView?>
<?import javafx.geometry.Insets?>
<?import javafx.scene.control.Button?>
<?import javafx.scene.control.Label?>
<?import javafx.scene.control.TableColumn?>
<?import javafx.scene.control.TableView?>
<?import javafx.scene.layout.HBox?>
<?import javafx.scene.layout.Region?>
<?import javafx.scene.layout.StackPane?>
<?import javafx.scene.layout.VBox?>

<VBox styleClass="dashboard-container" stylesheets="@../../Styles/User/Dashboard.css, @../../Styles/Common.css" xmlns="http://javafx.com/javafx/21" xmlns:fx="http://javafx.com/fxml/1" fx:controller="com.cht.travelmanagement.Controllers.User.DashboardController">
    <padding>
        <Insets bottom="30.0" left="30.0" right="30.0" top="30.0" />
    </padding>

    <!-- Welcome Section - Hero Card -->
    <VBox spacing="8" styleClass="welcome-container">
        <HBox alignment="CENTER_LEFT" spacing="20">
            <VBox spacing="8" HBox.hgrow="ALWAYS">
                <Label fx:id="welcome_lbl" styleClass="welcome-title" text="Welcome back, Employee" />
                <Label styleClass="welcome-subtitle" text="Here's a quick overview of your travel agency performance." />
            </VBox>
            <Button fx:id="newBooking_btn" mnemonicParsing="false" styleClass="btn-primary">
                <graphic>
                    <FontAwesomeIconView glyphName="PLUS" size="14" />
                </graphic>
                <text>New Booking</text>
            </Button>
        </HBox>
    </VBox>

    <Region prefHeight="15" />

    <!-- Statistics Cards -->
    <HBox spacing="16">
        <!-- Total Customers Card -->
        <VBox styleClass="stat-card,stat-card-customers" HBox.hgrow="ALWAYS">
            <HBox alignment="CENTER_LEFT" spacing="12">
                <StackPane styleClass="stat-icon-container">
                    <FontAwesomeIconView glyphName="USERS" size="20" styleClass="stat-icon" />
                </StackPane>
                <Region HBox.hgrow="ALWAYS" />
                <Label styleClass="stat-growth-text" text="+5%" />
            </HBox>
            <Label styleClass="stat-title" text="TOTAL CUSTOMERS" />
            <Label fx:id="totalCustomer_lbl" styleClass="stat-value" text="0" />
            <Label styleClass="stat-subtext" text="Active Travelers" />
        </VBox>

        <!-- Ongoing Trips Card -->
        <VBox styleClass="stat-card,stat-card-ongoing" HBox.hgrow="ALWAYS">
            <HBox alignment="CENTER_LEFT" spacing="12">
                <StackPane styleClass="stat-icon-container">
                    <FontAwesomeIconView glyphName="PLANE" size="20" styleClass="stat-icon" />
                </StackPane>
                <Region HBox.hgrow="ALWAYS" />
                <Label styleClass="stat-growth-text" text="+12%" />
            </HBox>
            <Label styleClass="stat-title" text="ONGOING TRIPS" />
            <Label fx:id="ongoingTrips_lbl" styleClass="stat-value" text="0" />
            <Label styleClass="stat-subtext" text="In progress" />
        </VBox>

        <!-- Upcoming Trips Card -->
        <VBox styleClass="stat-card,stat-card-upcoming" HBox.hgrow="ALWAYS">
            <HBox alignment="CENTER_LEFT" spacing="12">
                <StackPane styleClass="stat-icon-container">
                    <FontAwesomeIconView glyphName="CALENDAR" size="20" styleClass="stat-icon" />
                </StackPane>
                <Region HBox.hgrow="ALWAYS" />
                <Label styleClass="stat-growth-text" text="+8%" />
            </HBox>
            <Label styleClass="stat-title" text="UPCOMING TRIPS" />
            <Label fx:id="upcomingTrips_lbl" styleClass="stat-value" text="0" />
            <Label styleClass="stat-subtext" text="Scheduled" />
        </VBox>

        <!-- Completed Trips Card -->
        <VBox styleClass="stat-card,stat-card-completed" HBox.hgrow="ALWAYS">
            <HBox alignment="CENTER_LEFT" spacing="12">
                <StackPane styleClass="stat-icon-container">
                    <FontAwesomeIconView glyphName="CHECK_CIRCLE" size="20" styleClass="stat-icon" />
                </StackPane>
                <Region HBox.hgrow="ALWAYS" />
                <Label styleClass="stat-growth-text" text="+15%" />
            </HBox>
            <Label styleClass="stat-title" text="COMPLETED TRIPS" />
            <Label fx:id="completedTrips_lbl" styleClass="stat-value" text="0" />
            <Label styleClass="stat-subtext" text="Finished" />
        </VBox>
    </HBox>

    <Region prefHeight="15" />

    <!-- Recent Bookings Section -->
    <HBox alignment="CENTER_LEFT" spacing="10">
        <VBox spacing="4" HBox.hgrow="ALWAYS">
            <Label styleClass="section-title" text="Recent Bookings" />
            <Label styleClass="header-subtitle" text="Latest activities from your agency" />
        </VBox>
        <Button fx:id="viewAll_btn" mnemonicParsing="false" styleClass="secondary-button">
            <text>View All</text>
            <graphic>
                <FontAwesomeIconView glyphName="ARROW_RIGHT" size="12" />
            </graphic>
        </Button>
    </HBox>

    <Region prefHeight="8" />

    <!-- Table View -->
    <TableView fx:id="booking_table" VBox.vgrow="ALWAYS">
        <columns>
            <TableColumn fx:id="bookingId_col" minWidth="100" text="Booking ID" />
            <TableColumn fx:id="client_col" minWidth="150" text="Client" />
            <TableColumn fx:id="destination_col" minWidth="140" text="Destination" />
            <TableColumn fx:id="package_col" minWidth="140" text="Package" />
            <TableColumn fx:id="startDate_col" minWidth="110" text="Start Date" />
            <TableColumn fx:id="endDate_col" minWidth="110" text="End Date" />
            <TableColumn fx:id="status_col" minWidth="100" text="Status" />
        </columns>
        <columnResizePolicy>
            <TableView fx:constant="CONSTRAINED_RESIZE_POLICY" />
        </columnResizePolicy>
    </TableView>
</VBox>
